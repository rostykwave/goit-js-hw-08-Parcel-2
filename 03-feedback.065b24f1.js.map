{"mappings":"iiBAAA,IAuCUA,EACAC,EAxCVC,EAAAC,EAAA,SAGMC,EAAc,sBAGdC,EAAW,GAGXC,EAAO,CACTC,KAAMC,SAASC,cAAc,kBAC7BC,MAAOF,SAASC,cAAc,wBAC9BE,SAAUH,SAASC,cAAc,4BA2B3BT,EAAgBY,aAAaC,QAAQT,IACrCH,EAAsBa,KAAKC,MAAMf,MAGnCM,EAAKI,MAAMM,MAAQf,EAAoBgB,MACvCX,EAAKK,SAASK,MAAQf,EAAoBiB,SAzBnCZ,EAAVC,KAAKY,iBAAiB,UAK3B,SAAsBC,GAClBA,EAAIC,iBACJD,EAAIE,cAAcC,QAClBC,QAAQC,IAAIX,KAAKC,MAAMH,aAAaC,QAAQT,KAC5CQ,aAAac,WAAWtB,MAR5BE,EAAKC,KAAKY,iBAAiB,QAASQ,EAAAzB,EAAA,EAWpC,SAAqB0B,GACdvB,EAASuB,EAAEC,OAAOC,MAAQF,EAAEC,OAAOb,MACnC,IAAMe,EAAiBjB,KAAKkB,UAAU3B,GAEtCO,aAAaqB,QAAQ7B,EAAa2B,KAfgB","sources":["src/js/03-feedback.js"],"sourcesContent":["import throttle from \"lodash.throttle\";\n\n///Задаємо назву ключа для сховища (одразу в трьох місцяї)\nconst STORAGE_KEY = \"feedback-form-state\";\n\n////об'єкт для зберігання data в Local storage\nconst formData = {};\n\n////посилання в документ\nconst refs = {\n    form: document.querySelector('.feedback-form'),\n    input: document.querySelector('.feedback-form input'),\n    textarea: document.querySelector('.feedback-form textarea'),\n}\n\n////вивід збережених даних\npopulateFormInput();\n\n////прослуховування\nrefs.form.addEventListener('submit', onFormSubmit);\nrefs.form.addEventListener('input', throttle(onFormInput,500));\n\n\n/////Функції\nfunction onFormSubmit(evt) {\n    evt.preventDefault();\n    evt.currentTarget.reset();\n    console.log(JSON.parse(localStorage.getItem(STORAGE_KEY)));\n    localStorage.removeItem(STORAGE_KEY);\n}\n\nfunction onFormInput(e) {\n       formData[e.target.name] = e.target.value;\n       const formDataString = JSON.stringify(formData);\n\n       localStorage.setItem(STORAGE_KEY, formDataString);\n}\n    \nfunction populateFormInput() {\n    const savedFormData = localStorage.getItem(STORAGE_KEY);\n    const parsedSavedFormData = JSON.parse(savedFormData);\n\n    if (parsedSavedFormData) {\n        refs.input.value = parsedSavedFormData.email;\n        refs.textarea.value = parsedSavedFormData.message;\n    }\n    \n    }"],"names":["savedFormData","parsedSavedFormData","$dCfNN","parcelRequire","$b00c40859be242c5$var$STORAGE_KEY","$b00c40859be242c5$var$formData","$b00c40859be242c5$var$refs","form","document","querySelector","input","textarea","localStorage","getItem","JSON","parse","value","email","message","addEventListener","evt","preventDefault","currentTarget","reset","console","log","removeItem","$parcel$interopDefault","e","target","name","formDataString","stringify","setItem"],"version":3,"file":"03-feedback.065b24f1.js.map"}